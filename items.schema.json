{
    "$schema": "http://json-schema.org/schema#",
    "$id": "https://github.com/machinaeXphilip/commons-minimal-api/blob/master/items.schema.json",
    "title": "Commons Minimal Api Items Schema",
    "version":"0.0.2",
    "description": "A schema for items that can be found at sharing platforms",
    "definitions": {
        "item": {
            "type": "object",
            "properties": {
                "id": { "type": "string" },
                "name": { "type": "string" },
                "url": {
                    "type": "string",
                    "format": "uri",
                    "description": "direct link to the item on the platform or link to the platforms page"
                },
                "image": {
                    "type": "string",
                    "format": "uri"
                },
                "description": { 
                    "type": "string",
                    "description": "free human readable description of the item."
                },
                "location":{
                   
                   "type":"object",
                    "properties": {
                        "zip": {
                            "type":"string",
                            "description":"zip code where item can be found"
                        },
                        "geojson":{
                            "description": "location where the item can be received from. should be obfuscated if not geofence/area. tbd.",
                            "$ref": "https://github.com/wielebenwir/commons-api/blob/master/commons-api.locations.schema.json#/definitions/location"      
                        }
                    },
                },
                "reuseCategory":{
                    "type":"string",
                    "enum": ["buy","borrow","gift","rent","depends"],
                    "description": "how can this item be received? is it for sale for rent or can it be borrowed for free? If 'depends' is chosen, there SHOULD be some explanation in the description of the item"
                },
                "policy":{
                    "type":"string",
                    "enum":["anybody","network/friends only","members only","other"],
                    "description": "policy describing who can get access to this item. Might be thing specific or all the same on the item providing platform. anybody implies that no login is needed to contact the holder of the item, members only implies that you need a login, network/friends only implies that a login is needed and you might need to be added to a group of friends or another form of network to get access to the item, other indicates that there are other or mixed policies in place in order to get ahold of an item. If other is chosen there SHOULD be EITHER an explanation added to the description of the item on how to get ahold of the item OR it SHOULD be provided when following the url that links to the item"
                }
            },
            "required": ["id", "name", "url", "reuse-category", "policy", "location"]
        }
    },
    "type": "object",
    "properties": {
        "items": {
            "type": "array",
            "description": "The items that can be found, bought, booked, borrowed, rented from your site.",
            "items": { "$ref": "#/definitions/item" },
            "uniqueItems": true
        }
    },
    "required": ["items"]
}
